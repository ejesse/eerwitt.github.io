!!!
%html
  %head
    %meta{charset: "utf-8"}/
    %meta{content: "chrome=1", :"http-equiv" => "X-UA-Compatible"}/

    %link{href: "./stylesheets/stylesheet.css", media: "screen", rel: "stylesheet", type: "text/css"}/
    %link{href: "./stylesheets/pygment_trac.css", media: "screen", rel: "stylesheet", type: "text/css"}/

    -# Not using jquery from ./javascripts because the one on google cdn is already pulled in and cached by most browsers.
    %script{src: "http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js", type: "text/javascript"}
    %script{src: "./javascripts/thirdparty/handlebars-1.0.rc.1.js", type: "text/javascript"}
    %script{src: "./javascripts/thirdparty/ember-1.0.pre.js", type: "text/javascript"}
    %script{src: "./javascripts/thirdparty/ember-data.js", type: "text/javascript"}

    -# Application included first in order to create App namespace
    %script{src: "./javascripts/app/application.js", type: "text/javascript"}

    -# All other pages
    %script{src: "./javascripts/app/prior_work.js", type: "text/javascript"}

    -# Call the router last, all the other things should be instantiated by then
    %script{src: "./javascripts/app/router.js", type: "text/javascript"}

    %title Erik Erwitt

    -# Code for GA Tracking
    :javascript
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-663197-13']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

  %body
    -# Ember Templates

    -# This is the main layout used by all sub-views
    %script{type: "text/x-handlebars", :"data-template-name" => "layout"}
      %header
        .container
          %h1 Erik Erwitt
          {{yield}}

          %section#downloads
            %a.btn.btn-github{href: "https://github.com/eerwitt"}
              %span.icon
              View on GitHub
      .container
        %section#main_content
          %h3 Erik Erwitt
          %p This is currently a test to see how far I can go in creating a manageable ember.js app using only haml + coffeescript and hosted as my github page.

    %script{type: "text/x-handlebars", :"data-template-name" => "application"}
      %h2 Nothing is here yet.
      <a {{action showPriorWorks href=true}}>Prior Works</a>
      {{outlet}}

    -# Prior Work
    %script{type: "text/x-handlebars", :"data-template-name" => "priorWorks"}
      %h2 Prior Work
      {{#each priorWork in controller}}

      %h2 {{priorWork.title}}
      {{outlet}}

      {{/each}}

    %script{type: "text/x-handlebars", :"data-template-name" => "priorWork"}
      %p {{priorWork.description}}

    -# Experiments
    -# Blog
    -# About
